[gd_scene load_steps=10 format=2]

[ext_resource path="res://entity/unit/athletes/athletes.gd" type="Script" id=1]
[ext_resource path="res://entity/racket/racket.tscn" type="PackedScene" id=2]

[sub_resource type="CapsuleMesh" id=1]
mid_height = 2.0

[sub_resource type="SpatialMaterial" id=3]
albedo_color = Color( 0.780392, 0, 0, 1 )

[sub_resource type="SphereMesh" id=4]

[sub_resource type="ConvexPolygonShape" id=2]
points = PoolVector3Array( 0.0928188, 0.976993, 1.18587, -0.0928905, -0.97699, -1.18587, 0.0928188, -0.976993, -1.18587, 0.140092, -0.84082, 1.5182, -0.976958, -0.0929637, 1.18597, -0.509334, 0.69472, -1.50508, 0.976988, 0.0929552, -1.18586, 0.926599, -0.324041, 1.18112, -0.743063, -0.278472, -1.60232, 0.373159, 0.65301, -1.65598, 0.0943911, 0.236523, 1.96306, 0.781577, 0.59761, 1.17217, -0.688333, 0.688433, 1.21591, -0.597596, -0.78161, 1.17196, 0.188797, -0.188748, -1.9598, 0.688409, -0.688389, -1.21583, -0.968521, 0.230592, -1.03747, 0.368452, 0.921319, -1.08233, -0.826382, -0.550679, -1.07871, -0.471065, -0.188306, 1.86066, -0.368518, 0.921309, -1.08232, 0.368452, -0.921319, 1.08233, 0.471169, -0.1883, 1.8606, 0.781577, 0.59761, -1.17217, -0.185516, -0.974279, 1.08987, -0.330194, 0.235826, -1.90977, -0.466423, 0.466509, 1.74909, 0.968537, 0.230567, 1.03736, -0.234105, -0.608747, -1.75601, -0.460308, -0.874787, -1.12771, 0.653179, 0.373096, 1.65587, 0.562345, -0.327794, -1.75716, -0.781607, 0.59758, -1.17211, -0.921356, 0.368398, 1.08228, 0.688409, -0.688389, 1.21583, 0.921331, -0.368417, -1.08233, -0.32432, 0.926527, 1.18103, 0.232703, 0.791149, 1.55862, 0.550874, 0.826269, 1.07867, -0.0928905, 0.97699, -1.18587, 0.608756, 0.234172, -1.75597, -0.874727, -0.460421, 1.12777, -0.968512, -0.23059, -1.03746, -0.188422, -0.471135, 1.86059, -0.84087, 0.140035, -1.51814, 0.278707, -0.742977, -1.60232, 0.460404, -0.874744, -1.12765, -0.791091, 0.232671, 1.55871, 0.140909, 0.563621, -1.8088, -0.509334, -0.69472, 1.50508, 0.840941, -0.140027, 1.51806, -0.791893, -0.325802, 1.51375, 0.466526, -0.466493, 1.74903, -0.377553, -0.141467, -1.91095, -0.278772, 0.742957, 1.60228, 0.840938, -0.140026, -1.51805, 0.976988, -0.0929552, 1.18586, 0.921342, 0.368421, -1.08235, -0.509335, -0.694721, -1.50508, -0.550925, 0.826242, -1.07863, 0.826424, -0.550627, 1.07861, 0.094391, 0.236523, -1.96306, 0.140092, 0.84082, -1.5182, 0.094391, -0.236523, 1.96306 )

[sub_resource type="CylinderShape" id=5]
height = 3.74281
radius = 2.9828

[sub_resource type="Animation" id=6]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("racket_pivot:rotation_degrees")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector3( 0, 0, 0 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("racket_pivot/racket:rotation_degrees")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector3( 0, 0, -14.491 ) ]
}

[sub_resource type="Animation" id=7]
resource_name = "swing_racket"
tracks/0/type = "value"
tracks/0/path = NodePath("racket_pivot:rotation_degrees")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.2, 0.6 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ Vector3( 0, 0, 0 ), Vector3( 0, 145.591, 0 ), Vector3( 0, 0, 0 ) ]
}
tracks/1/type = "method"
tracks/1/path = NodePath(".")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0.2 ),
"transitions": PoolRealArray( 1 ),
"values": [ {
"args": [  ],
"method": "_racket_swung"
} ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("racket_pivot/racket:rotation_degrees")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 0.2, 0.8 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ Vector3( 0, 0, -16.216 ), Vector3( 0, 0, -43.73 ), Vector3( 0, 0, -16.216 ) ]
}

[node name="athletes" type="KinematicBody"]
script = ExtResource( 1 )

[node name="racket_pivot" type="Spatial" parent="."]

[node name="racket" parent="racket_pivot" instance=ExtResource( 2 )]
transform = Transform( 0.968186, 0.250228, 0, -0.250228, 0.968187, 0, 0, 0, 1, 1.82904, 0, 0 )

[node name="Spatial" type="Spatial" parent="."]

[node name="MeshInstance" type="MeshInstance" parent="Spatial"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0 )
mesh = SubResource( 1 )
skeleton = NodePath("../..")
material/0 = SubResource( 3 )

[node name="eye" type="MeshInstance" parent="Spatial"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00771418, 0.717561, -0.257284 )
mesh = SubResource( 4 )
skeleton = NodePath("../..")

[node name="CollisionShape" type="CollisionShape" parent="."]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0 )
shape = SubResource( 2 )

[node name="service_area" type="Area" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.79419, 0 )
collision_layer = 2
collision_mask = 2
input_ray_pickable = false
monitorable = false

[node name="CollisionShape" type="CollisionShape" parent="service_area"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.578074, 0 )
shape = SubResource( 5 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
anims/RESET = SubResource( 6 )
anims/swing_racket = SubResource( 7 )

[connection signal="body_entered" from="service_area" to="." method="_on_service_area_body_entered"]
